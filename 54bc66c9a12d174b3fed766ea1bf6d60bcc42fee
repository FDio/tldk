{
  "comments": [
    {
      "key": {
        "uuid": "56721a5d_1abbb828",
        "filename": "lib/libtle_l4p/tcp_rxtx.c",
        "patchSetId": 1
      },
      "lineNbr": 2798,
      "author": {
        "id": 118
      },
      "writtenOn": "2021-09-14T16:55:54Z",
      "side": 1,
      "message": "might be no need to change tcp_get_tms() at all?\nInstead just add new function:\nstatic inline uint32_t tcp_stream_adjust_tms(const struct tle_tcp_stream *s, uint32_t tms)\n{\n   return tms - s-\u003ets_offset;\n}\n\nAnd call it in all related places?",
      "revId": "54bc66c9a12d174b3fed766ea1bf6d60bcc42fee",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e35e001_a86d03e2",
        "filename": "lib/libtle_l4p/tcp_stream.h",
        "patchSetId": 1
      },
      "lineNbr": 116,
      "author": {
        "id": 118
      },
      "writtenOn": "2021-09-14T16:55:54Z",
      "side": 1,
      "message": "probably no point to increase size of tle_tcp_stream struct.\nIt still should be plenty of space between err and rx, so might be worth to move tx_offset there.\nBTW, does it need to be signed int?\nAs I remember we use 32bit unsigned int for tms calculations.",
      "revId": "54bc66c9a12d174b3fed766ea1bf6d60bcc42fee",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "445d1896_1ccf3671",
        "filename": "lib/libtle_l4p/tcp_stream.h",
        "patchSetId": 1
      },
      "lineNbr": 116,
      "author": {
        "id": 2548
      },
      "writtenOn": "2021-09-17T01:04:09Z",
      "side": 1,
      "message": "The tms is unsigned. We are using a signed value here since the remote device could be ahead of or behind our clock. In our testing, the value used was tied to the system uptime. To keep the operation simple, we said just do the delta and store in a signed variable. It will always be subtracted from tms.",
      "parentUuid": "7e35e001_a86d03e2",
      "revId": "54bc66c9a12d174b3fed766ea1bf6d60bcc42fee",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": true
    }
  ]
}